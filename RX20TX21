#include <samd20.h>
#include "SEGGER_RTT.h"

int main(void) {
    // Инициализация системы
    SystemInit();

    // Настройка минимальных размеров буфера RTT
    SEGGER_RTT_ConfigUpBuffer(0, NULL, NULL, 64, SEGGER_RTT_MODE_NO_BLOCK_SKIP);
    SEGGER_RTT_ConfigDownBuffer(0, NULL, NULL, 16, SEGGER_RTT_MODE_NO_BLOCK_SKIP);

    // Инициализация RTT
    SEGGER_RTT_Init();

    // Отправка сообщения в RTT Viewer
    SEGGER_RTT_WriteString(0, "Hello, J-Link RTT Viewer!\n");

    // Главный цикл
    while (1) {
        SEGGER_RTT_WriteString(0, "Still running...\n");
        for (volatile int i = 0; i < 1000000; i++); // Задержка
    }
}
